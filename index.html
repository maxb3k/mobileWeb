<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Mobileweb test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <!--<script src="jquery/jquery.mobile-1.4.5.min.js"></script>-->
    <script src="signature_pad.js"></script>
    <script>
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                    results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        function setText(id, newvalue) {
            var s = document.getElementById(id);
            s.innerHTML = newvalue;
        }

        window.onload = function () {
            var bc = getParameterByName('barcode');
            console.log(bc);
            setText('barcode', bc);

            var canvas = document.querySelector("canvas");
            var signaturePad = new SignaturePad(canvas);
        };
    </script>
</head>
<body>
<section class="page-header">
    <h1 class="project-name">Mobileweb</h1>
    <h2 class="project-tagline">proof of concept for mobile features available from web page</h2>
</section>

<section class="main-content">
    <p>
        <a href="http://zxing.appspot.com/scan?ret=https%3A%2F%2Fmaxb3k.github.io%2FmobileWeb%2F%3Fbarcode%3D%7BCODE%7D&SCAN_FORMATS=UPC_A,EAN_13,CODE_128"
           class="btn">Scan
            barcode</a>
    </p>
    <div id="barcode"></div>
    <canvas id="canvas" class="signature-pad" width=400 height=200></canvas>
</section>
</body>
</html>
